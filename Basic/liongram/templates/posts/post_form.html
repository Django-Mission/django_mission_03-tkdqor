{% extends 'base.html' %}

<!-- title block -->
{% block title %}글 입력{% endblock %}

<!-- content block -->
{% block content %}
<h1>Post 입력 화면</h1>
<!-- 이미지 전송을 위한 인코딩 방식 추가 -->
<form action="" method="POST" enctype="multipart/form-data"> 
    {% csrf_token %}
    <!-- 이미지 입력 -->
    <div>
        <label for="id_image">이미지</label>
        {% if post.image %}
        <p>현재 : <a href="{{ post.image.url }}">{{ post.image.name }}</a></p>
        <p>변경 : <input type="file" name="image" accept="image/*" id="id_image"></p>
        {% else %}
            <input type="file" name="image" accept="image/*" id="id_image">
        {% endif %} 
    </div>
    <!-- 내용 입력 -->
    <div>
        <label for="id_content">내용</label>
        <textarea name="content" id="id_content" cols="30" rows="10">
            {% if post %}
                {{ post.content }}
            {% endif %}    
        </textarea>
    </div>
    <!-- 데이터 전송  -->
    <div>
        <input type="submit">
    </div>
</form>
{% endblock %}
